databaseChangeLog:
- changeSet:
    id: 2025-12-08--0001--author
    author: dgrakovich
    changes:
      - createTable:
          tableName: author
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  nullable: false
                  primaryKey: true
                  primaryKeyName: pk_author
            - column:
                name: last_name
                type: varchar(100)
                constraints:
                  nullable: false
            - column:
                name: first_name
                type: varchar(100)
                constraints:
                  nullable: false
            - column:
                name: age
                type: int

- changeSet:
    id: 2025-12-08--0002--genre
    author: dgrakovich
    changes:
      - createTable:
          tableName: genre
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  nullable: false
                  primaryKey: true
                  primaryKeyName: pk_genre
            - column:
                name: name
                type: varchar(100)
                constraints:
                  nullable: false
                  unique: true

- changeSet:
    id: 2025-12-08--0003--book
    author: dgrakovich
    changes:
      - createTable:
          tableName: book
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  nullable: false
                  primaryKey: true
                  primaryKeyName: pk_book
            - column:
                name: title
                type: varchar(255)
                constraints:
                  nullable: false
            - column:
                name: author_id
                type: bigint
                constraints:
                  nullable: false
                  foreignKeyName: fk_book_author
                  references: author(id)
            - column:
                name: genre_id
                type: bigint
                constraints:
                  nullable: false
                  foreignKeyName: fk_book_genre
                  references: genre(id)
- changeSet:
    id: 2025-12-10--0001--comment
    author: dgrakovich
    changes:
      - createTable:
          tableName: comment
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  nullable: false
                  primaryKey: true
                  primaryKeyName: pk_comment
            - column:
                name: description
                type: varchar(2000)
                constraints:
                  nullable: true
                  unique: false
            - column:
                name: nickname
                type: varchar(30)
                constraints:
                  nullable: true
                  unique: false
            - column:
                name: book_id
                type: bigint
                constraints:
                  nullable: false
                  foreignKeyName: fk_comment_book
                  references: book(id)